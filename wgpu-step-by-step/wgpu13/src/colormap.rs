#![allow(dead_code)]
pub fn color_interp(colormap_name: &str, min:f32, max:f32, mut t:f32) -> [f32; 3]{
    if t < min {
        t = min;
    } 
    if t > max {
        t = max;
    }
    let tn = (t-min)/(max - min);
    let colors = colormap_data(colormap_name);
    let indx = (10.0 * tn).floor() as usize;
    
    if indx as f32 == 10.0 * tn {
        colors[indx]
    } else {
        let tn1 = (tn - 0.1 * indx as f32)*10.0; // rescale
        let a = colors[indx];
        let b = colors[indx+1];
        let color_r = a[0] + (b[0] - a[0]) * tn1;
        let color_g = a[1] + (b[1] - a[1]) * tn1;
        let color_b = a[2] + (b[2] - a[2]) * tn1;
        [color_r, color_g, color_b]
    }
}

pub fn colormap_data(colormap_name: &str) -> [[f32; 3]; 11] {
    let colors = match colormap_name {

        "hsv" => [[1.0,0.0,0.0],[1.0,0.5,0.0],[0.97,1.0,0.01],[0.0,0.99,0.04],[0.0,0.98,0.52],[0.0,0.98,1.0],
            [0.01,0.49,1.0],[0.03,0.0,0.99],[1.0,0.0,0.96],[1.0,0.0,0.49],[1.0,0.0,0.02]],

        "hot" => [[0.0,0.0,0.0],[0.3,0.0,0.0],[0.6,0.0,0.0],[0.9,0.0,0.0],[0.93,0.27,0.0],
            [0.97,0.55,0.0],[1.0,0.82,0.0],[1.0,0.87,0.25],[1.0,0.91,0.5],[1.0,0.96,0.75],[1.0,1.0,1.0]],

        "cool" => [[0.49,0.0,0.7],[0.45,0.0,0.85],[0.42,0.15,0.89],[0.38,0.29,0.93],[0.27,0.57,0.91],
            [0.0,0.8,0.77],[0.0,0.97,0.57],[0.0,0.98,0.46],[0.0,1.0,0.35],[0.16,1.0,0.03],[0.58,1.0,0.0]],

        "spring" => [[1.0,0.0,1.0],[1.0,0.1,0.9],[1.0,0.2,0.8],[1.0,0.3,0.7],[1.0,0.4,0.6],
            [1.0,0.5,0.5],[1.0,0.6,0.4],[1.0,0.7,0.3],[1.0,0.8,0.2],[1.0,0.9,0.1],[1.0,1.0,0.0]],

        "summer" => [[0.0,0.5,0.4],[0.1,0.55,0.4],[0.2,0.6,0.4],[0.3,0.65,0.4],[0.4,0.7,0.4],[0.5,0.75,0.4],
            [0.6,0.8,0.4],[0.7,0.85,0.4],[0.8,0.9,0.4],[0.9,0.95,0.4],[1.0,1.0,0.4]],

        "autumn" => [[1.0,0.0,0.0],[1.0,0.1,0.0],[1.0,0.2,0.0],[1.0,0.3,0.0],[1.0,0.4,0.0],[1.0,0.5,0.0],
            [1.0,0.6,0.0],[1.0,0.7,0.0],[1.0,0.8,0.0],[1.0,0.9,0.0],[1.0,1.0,0.0]],

        "winter" => [[0.0,0.0,1.0],[0.0,0.1,0.95],[0.0,0.2,0.9],[0.0,0.3,0.85],[0.0,0.4,0.8],
            [0.0,0.5,0.75],[0.0,0.6,0.7],[0.0,0.7,0.65],[0.0,0.8,0.6],[0.0,0.9,0.55],[0.0,1.0,0.5]],

        "bone" => [[0.0,0.0,0.0],[0.08,0.08,0.11],[0.16,0.16,0.23],[0.25,0.25,0.34],[0.33,0.33,0.45],
            [0.41,0.44,0.54],[0.5,0.56,0.62],[0.58,0.67,0.7],[0.66,0.78,0.78],[0.83,0.89,0.89],[1.0,1.0,1.0]],

        "cooper" => [[0.0,0.0,0.0],[0.13,0.08,0.05],[0.25,0.16,0.1],[0.38,0.24,0.15],[0.5,0.31,0.2],
            [0.62,0.39,0.25],[0.75,0.47,0.3],[0.87,0.55,0.35],[1.0,0.63,0.4],[1.0,0.71,0.45],[1.0,0.78,0.5]],

        "greys" => [[0.0,0.0,0.0],[0.1,0.1,0.1],[0.2,0.2,0.2],[0.3,0.3,0.3],[0.4,0.4,0.4],[0.5,0.5,0.5],
            [0.6,0.6,0.6],[0.7,0.7,0.7],[0.8,0.8,0.8],[0.9,0.9,0.9],[1.0,1.0,1.0]],

        // "jet" as default
        _ => [[0.0,0.0,0.51],[0.0,0.24,0.67],[0.01,0.49,0.78],[0.01,0.75,0.89],[0.02,1.0,1.0],
            [0.51,1.0,0.5],[1.0,1.0,0.0],[0.99,0.67,0.0],[0.99,0.33,0.0],[0.98,0.0,0.0],[0.5,0.0,0.0]],
    };

    colors
}
